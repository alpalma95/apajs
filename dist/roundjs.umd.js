(function(u,a){typeof exports=="object"&&typeof module<"u"?a(exports):typeof define=="function"&&define.amd?define(["exports"],a):(u=typeof globalThis<"u"?globalThis:u||self,a(u.roundjs={}))})(this,function(u){"use strict";class a extends HTMLElement{constructor(){super()}connectedCallback(){this.getProps(),this.onInit(),this.update()}attributeChangedCallback(e,s,n){e.startsWith(":")?this[e.slice(1)]=n:this[e]=n,this.watchAttributes(e.slice(1),JSON.parse(s),JSON.parse(n)),this.update()}disconnectedCallback(){this.onDestroy()}update(){const e=this.shadowRoot?this.shadowRoot:this;e.innerHTML="";const s=this.render();Array.isArray(s)?s.forEach(n=>e.appendChild(n)):e.appendChild(s)}getProps(){this.getAttributeNames().forEach(e=>{e.startsWith(":")&&(this[e.slice(1)]=JSON.parse(this.getAttribute(e)))})}defineState(e){if(e===null||typeof e!="object")return e;for(const s in e)e[s]=this.defineState(e[s]);return new Proxy(e,{get(s,n){return s[n]},set:(s,n,t)=>(s[n]!==t&&(s[n]=t,this.update()),!0)})}onInit(){}onDestroy(){}render(){}}class p{constructor(e){this._initialValue=e,this._subscribers=[]}get value(){return this._initialValue}set value(e){this._initialValue=e,this._subscribers.forEach(({cb:s})=>s(this.value))}connect(e,s){this.value=this._initialValue,this._subscribers.push({component:e,cb:s})}disconnect(e){this._subscribers=this._subscribers.filter(({component:s})=>s===e)}}function b(c){for(var e,s,n=arguments,t=1,i="",h="",r=[0],d=function(o){t===1&&(o||(i=i.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?r.push(o?n[o]:i):t===3&&(o||i)?(r[1]=o?n[o]:i,t=2):t===2&&i==="..."&&o?r[2]=Object.assign(r[2]||{},n[o]):t===2&&i&&!o?(r[2]=r[2]||{})[i]=!0:t>=5&&(t===5?((r[2]=r[2]||{})[s]=o?i?i+n[o]:n[o]:i,t=6):(o||i)&&(r[2][s]+=o?i+n[o]:i)),i=""},f=0;f<c.length;f++){f&&(t===1&&d(),d(f));for(var l=0;l<c[f].length;l++)e=c[f][l],t===1?e==="<"?(d(),r=[r,"",null],t=3):i+=e:t===4?i==="--"&&e===">"?(t=1,i=""):i=e+i[0]:h?e===h?h="":i+=e:e==='"'||e==="'"?h=e:e===">"?(d(),t=1):t&&(e==="="?(t=5,s=i,i=""):e==="/"&&(t<5||c[f][l+1]===">")?(d(),t===3&&(r=r[0]),t=r,(r=r[0]).push(this.apply(null,t.slice(1))),t=0):e===" "||e==="	"||e===`
`||e==="\r"?(d(),t=2):i+=e),t===3&&i==="!--"&&(t=4,r=r[0])}return d(),r.length>2?r.slice(1):r[1]}function y(c,e,...s){const n=document.createElement(c);if(e)for(const[t,i]of Object.entries(e))typeof i=="object"?n.setAttribute(t,JSON.stringify(i)):typeof i=="function"?(n.addEventListener(t.slice(1),i),n.setAttribute(`${t.slice(1)}`,i.name)):n.setAttribute(t,i);return s&&s.forEach(t=>{if(Array.isArray(t)){t.filter(h=>h!=" ").forEach(h=>n.appendChild(h));return}if(typeof t!="object"){const i=document.createTextNode(t);n.appendChild(i);return}n.appendChild(t)}),n}const g=b.bind(y);u.ReactiveWC=a,u.Stream=p,u.html=g,Object.defineProperty(u,Symbol.toStringTag,{value:"Module"})});
